<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Olaki - List of Android devices that can run alternative Operating Systems</title>
  <meta name="description" content="A table that lists Android devices and compatible Operating Systems.">
  <meta name="author" content="olaki-android">

  <meta property="og:title" content="Olaki - List of Android devices that can run alternative Operating Systems">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://olaki-android.github.io/olaki">
  <meta property="og:description" content="A table that lists Android devices and compatible Operating Systems.">
  <style>
    html, body {
      font-family: sans-serif;
      font-size: 1em;
      color: #0c0c0c;
      background-color: #eeeaea;
    }

    header div {
      line-height: 1.7rem;
    }

    table {
      font-size: 0.85rem;
      margin-top: 25px;
      border-top: 1px solid black;
      border-left: 1px solid black;
      border-spacing: 0;

      table-layout: fixed;
      width: 1200px;
    }

    th, td {
      padding: 10px 5px;
      border-bottom: 1px solid black;
      border-right: 1px solid black;
      word-wrap: break-word;
      text-align: center;
    }

    th {
      /* safari */
      position: -webkit-sticky;
      position: sticky;
      top: 0;
      background-color: #e5e3e3;
      z-index: 10;
    }

    tbody tr:nth-child(odd) {
      background-color: #d9b1ea;
    }

    tbody tr:nth-child(even) {
      background-color: #e5e3e3;
    }

    /* device name column */
    tr th:first-child, tr td:first-child {
      width: 160px;
    }

    footer .code {
      background-color: #d0d0d0;
      /*background-color: #bdbaba;*/
      width: 360px;
      padding: 5px 10px;
      line-height: 1.5rem;
    }
  </style>
</head>

<body>
<header>
  <h1>Welcome to Olaki.</h1>
  <div>
    An automatically generated list of Android devices that can run alternative operating systems. With links to download or
    project pages.
  </div>
  <div>
    Sensible defaults are set to only try and include <code>(device, OS)</code> combinations with high compatibility rates. See
    this <a href="#appendix">Appendix</a> for more details.
  </div>
  <div>Last update: <span id="last-update-date"></span>. Updated at least once a month.</div>
  <div>Please <a href="https://github.com/olaki-android/olaki" target="_blank">contribute</a> if you'd like see other operating
    systems listed here.
  </div>
</header>
<main>
  <h2>Table</h2>
  <table id="olaki-table">
    <thead>
    <tr>
      <th>Device name</th>
      <th>Codename</th>
      <th>crDroid</th>
      <th>/e/OS</th>
      <th>Kali<br>Linux</th>
      <th>LineageOS</th>
      <th>OmniROM</th>
      <th>postmarket<br>OS</th>
      <th>Resurrection<br>Remix OS</th>
      <th>Ubuntu<br>Touch</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
  <footer>
    <h2 id="appendix">Appendix - Parameters used to build this table</h2>
    <div>Parameters used to build this table:</div>
    <h3>crDroid</h3>
    <div class="code" id="crdroid-parameters">
      N/A
    </div>
    <h3>/e/OS</h3>
    <div class="code" id="eos-parameters"></div>
    <h3>Kali Linux</h3>
    <div class="code" id="kali-parameters"></div>
    <h3>LineageOS</h3>
    <div class="code" id="lineageos-parameters"></div>
    <h3>OmniROM</h3>
    <div class="code" id="omnirom-parameters"></div>
    <h3>postmarketOS</h3>
    <div class="code" id="pmos-parameters"></div>
    <h3>Resurrection Remix OS</h3>
    <div class="code" id="resurrectionremix-parameters"></div>
    <h3>Ubuntu Touch</h3>
    <div class="code" id="ubuntutouch-parameters"></div>
  </footer>
</main>

<script src="olaki-data.js"></script>
<script>
  //
  // populate last updated timestamp
  //
  document.getElementById("last-update-date").innerText = new Date(olakiData.lastUpdated).toUTCString();


  //
  // populate table
  //
  const tbody = document.getElementById("olaki-table").getElementsByTagName("tbody")[0];

  const getOsDownloadATag = (url, text) => {
    const link = document.createElement("a");
    link.href = url;
    link.target = "_blank";
    link.innerText = text;
    return link;
  };

  for (const deviceSummary of olakiData.deviceSummaries) {
    const row = tbody.insertRow();
    row.insertCell().append(deviceSummary.vendor + " " + deviceSummary.name);
    row.insertCell().append(deviceSummary.codename);

    let nextOsCell = row.insertCell();
    if (deviceSummary.crdroid) {
      const link = getOsDownloadATag(deviceSummary.crdroid.url, "yes");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.eos) {
      const link = getOsDownloadATag(deviceSummary.eos.url, deviceSummary.eos.maturity);
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.kali) {
      const link = getOsDownloadATag(deviceSummary.kali.url, deviceSummary.kali.isStable ? "stable" : "latest");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.lineageos) {
      const link = getOsDownloadATag(deviceSummary.lineageos.url, deviceSummary.lineageos.isMaintained ? "maintained" : "unmaintained");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.omnirom) {
      const link = getOsDownloadATag(deviceSummary.omnirom.url, deviceSummary.omnirom.isOfficial ? "official" : "unofficial");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.pmos) {
      const link = getOsDownloadATag(deviceSummary.pmos.url, deviceSummary.pmos.category);
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.resurrectionremix) {
      const link = getOsDownloadATag(deviceSummary.resurrectionremix.url, deviceSummary.resurrectionremix.isMaintained ? "maintained" : "unmaintained");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.ubuntutouch) {
      const link = getOsDownloadATag(deviceSummary.ubuntutouch.url, deviceSummary.ubuntutouch.progress + "%");
      nextOsCell.append(link);
    }

  }


  //
  // populate appendix
  //
  const populateAppendixSectionForOS = (os) => document.getElementById(`${os}-parameters`).innerText = JSON.stringify(olakiData.appConfig[os], null, " ");

  populateAppendixSectionForOS("eos");
  populateAppendixSectionForOS("kali");
  populateAppendixSectionForOS("lineageos");
  populateAppendixSectionForOS("omnirom");
  populateAppendixSectionForOS("pmos");
  populateAppendixSectionForOS("resurrectionremix");
  populateAppendixSectionForOS("ubuntutouch");

</script>
</body>
</html>
