<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Olaki - List of Android devices that can run alternative Operating Systems</title>
  <meta name="description" content="A table that lists Android devices and compatible Operating Systems.">
  <meta name="author" content="olaki-android">

  <meta property="og:title" content="Olaki - List of Android devices that can run alternative Operating Systems">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://olaki-android.github.io/olaki">
  <meta property="og:description" content="A table that lists Android devices and compatible Operating Systems.">
  <style>
    html, body {
      font-family: sans-serif;
    }
  </style>
</head>

<body>
<header>
  <h1>Welcome to Olaki.</h1>
  An automatically generated list of Android devices that can run alternative Operating Systems. With download links.
  <div>Last updated on <span id="last-updated"></span>.</div>
</header>
<main>
  <table id="device-summaries-table">
    <thead>
    <tr>
      <th>Device name</th>
      <th>Codename</th>
      <th>crDroid</th>
      <th>/e/OS</th>
      <th>Kali Linux</th>
      <th>LineageOS</th>
      <th>OmniROM</th>
      <th>postmarketOS</th>
      <th>Resurrection Remix OS</th>
      <th>Ubuntu Touch</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
</main>

<script src="device-summaries.js"></script>
<script>
  document.getElementById("last-updated").innerText = new Date(olakiData.lastUpdated).toLocaleDateString();

  const tbody = document.getElementById("device-summaries-table").getElementsByTagName("tbody")[0];


  const getOsDownloadATag = (url, text) => {
    const link = document.createElement("a");
    link.href = url;
    link.target = "_blank";
    link.innerText = text;
    return link;
  };

  for (const deviceSummary of olakiData.deviceSummaries) {
    const row = tbody.insertRow();
    row.insertCell().append(deviceSummary.vendor + ' ' + deviceSummary.name);
    row.insertCell().append(deviceSummary.codename);

    let nextOsCell = row.insertCell();
    if (deviceSummary.crdroid) {
      const link = getOsDownloadATag(deviceSummary.crdroid.url, "yes");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.eos) {
      const link = getOsDownloadATag(deviceSummary.eos.url, deviceSummary.eos.maturity);
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.kali) {
      const link = getOsDownloadATag(deviceSummary.kali.url, deviceSummary.kali.isStable ? "stable" : "latest");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.lineageos) {
      const link = getOsDownloadATag(deviceSummary.lineageos.url, deviceSummary.lineageos.isMaintained ? "maintained" : "unmaintained");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.omnirom) {
      const link = getOsDownloadATag(deviceSummary.omnirom.url, deviceSummary.omnirom.isOfficial ? "official" : "unofficial");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.pmos) {
      const link = getOsDownloadATag(deviceSummary.pmos.url, deviceSummary.pmos.category);
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.resurrectionremix) {
      const link = getOsDownloadATag(deviceSummary.resurrectionremix.url, deviceSummary.resurrectionremix.isMaintained ? "maintained" : "unmaintained");
      nextOsCell.append(link);
    }

    nextOsCell = row.insertCell();
    if (deviceSummary.ubuntutouch) {
      const link = getOsDownloadATag(deviceSummary.ubuntutouch.url, deviceSummary.ubuntutouch.progress + '%');
      nextOsCell.append(link);
    }

  }
</script>
</body>
</html>
